<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tables & Waiting List</title>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="jquery-3.4.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css.css">

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="jumbotron">
                    <h1><i class="fas fa-fire"></i> Hot Restaurant</h1>
                    <hr>
                    <button type="button" class="btn btn-danger">
                        <h3>Reservations</h3>
                    </button>
                    <button type="button" class="btn btn-light">
                        <h3><i class="fas fa-home"></i></h3>
                    </button>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        <h4>Tables</h4>
                    </div>
                    <div class="card-body" id="table-body">

                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        <h4>Waiting List</h4>
                    </div>
                    <div class="card-body" id="wait-list-body">

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">

        $.get("/api/tables", function (data) {
            console.log(data);

            //get data in array
            for (i = 0; i < data.tables.length; i++) {
                var charDiv = $("<div>");
                var table = $("<h3>");
                    table.text("Table Number " + i + 1);
                
                var hr = $("<hr>")
                var ID = $("<h3>");
                    ID.text("ID: " + data.tables[i].ID);
                var name = $("<h3>");
                    name.text("ID: " + data.tables[i].name);
                var email = $("<h3>");
                    email.text("ID: " + data.tables[i].email);
                var phone = $("<h3>");
                    phone.text("ID: " + data.tables[i].phone);   
                    
                $(charDiv).append(table, hr, ID, name, email, phone);
                $("#table-body").append(charDiv);
            }

            for (i = 0; i < data.waitlist.length; i++) {
                var charDiv = $("<div>");
                var table = $("<h3>");
                    table.text("Table Number " + i + 1);
                
                var hr = $("<hr>")
                var ID = $("<h3>");
                    ID.text("ID: " + data.waitlist[i].ID);
                var name = $("<h3>");
                    name.text("ID: " + data.waitlist[i].name);
                var email = $("<h3>");
                    email.text("ID: " + data.waitlist[i].email);
                var phone = $("<h3>");
                    phone.text("ID: " + data.waitlist[i].phone);   
                    
                $(charDiv).append(table, hr, ID, name, email, phone);
                $("#wait-list-body").append(charDiv);
            }
            //append each specific piece of data into spot
            //append all data into reservations page

        });

    </script>

</body>

</html>